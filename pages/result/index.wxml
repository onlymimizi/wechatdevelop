<view class="container {{isDark ? 'dark' : ''}}">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="nav-header">
    <view class="nav-title">è®¡ç®—ç»“æœ</view>
    <view class="nav-subtitle">ç²¾å‡†ç”¨é‡ï¼Œåˆç†é¢„ç®—</view>
  </view>

  <!-- è®¡ç®—ç»“æœå¡ç‰‡ -->
  <view class="result-card">
    <view class="result-header">
      <text class="ios-icon">ğŸ“Š</text>
      <view class="result-title">{{calculateData.material}}ç”¨é‡è®¡ç®—</view>
      <view class="result-status success">è®¡ç®—å®Œæˆ</view>
    </view>
    
    <view class="result-content">
      <!-- åŸºç¡€ä¿¡æ¯ -->
      <view class="info-section">
        <view class="info-item">
          <view class="info-label">
            <text class="ios-icon">ğŸ“</text>
            <text>æ–½å·¥é¢ç§¯</text>
          </view>
          <view class="info-value">{{calculateData.actualArea}} {{calculateData.unit}}</view>
        </view>
        
        <view class="info-item">
          <view class="info-label">
            <text class="ios-icon">ğŸ“ˆ</text>
            <text>æŸè€—ç‡</text>
          </view>
          <view class="info-value">{{calculateData.wasteRate}}%</view>
        </view>
        
        <view class="info-item" wx:if="{{calculateData.layout}}">
          <view class="info-label">
            <text class="ios-icon">â¬œ</text>
            <text>é“ºè´´æ–¹å¼</text>
          </view>
          <view class="info-value">{{calculateData.layout}}</view>
        </view>
      </view>

      <!-- è®¡ç®—ç»“æœ -->
      <view class="calculation-results">
        <view class="result-item primary">
          <view class="result-label">åŸºç¡€ç”¨é‡</view>
          <view class="result-number">{{result.baseAmount}}</view>
          <view class="result-unit">{{result.unit}}</view>
        </view>
        
        <view class="result-item">
          <view class="result-label">æŸè€—ç”¨é‡</view>
          <view class="result-number">{{result.wasteAmount}}</view>
          <view class="result-unit">{{result.unit}}</view>
        </view>
        
        <view class="result-item highlight">
          <view class="result-label">å»ºè®®è´­ä¹°</view>
          <view class="result-number">{{result.totalAmount}}</view>
          <view class="result-unit">{{result.unit}}</view>
        </view>
        
        <view class="result-item" wx:if="{{result.packages}}">
          <view class="result-label">åŒ…è£…æ•°é‡</view>
          <view class="result-number">{{result.packages}}</view>
          <view class="result-unit">åŒ…/ç®±</view>
        </view>
      </view>

      <!-- è¯¦ç»†è¯´æ˜ -->
      <view class="details-section" wx:if="{{result.details}}">
        <view class="section-title">
          <text class="ios-icon">ğŸ“‹</text>
          <text>è®¡ç®—è¯¦æƒ…</text>
        </view>
        
        <view class="detail-list">
          <view class="detail-item" wx:for="{{result.details}}" wx:key="label">
            <text class="detail-label">{{item.label}}</text>
            <text class="detail-value">{{item.value}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- é«˜çº§åŠŸèƒ½å¡ç‰‡ -->
  <view class="advanced-features">
    <view class="section-title">
      <text class="ios-icon">âœ¨</text>
      <text>æ›´å¤šåŠŸèƒ½</text>
    </view>
    
    <view class="feature-grid">
      <view class="feature-card" bindtap="goToAdvancedCalc">
        <text class="feature-icon">ğŸ </text>
        <view class="feature-name">å¤šæˆ¿é—´è®¡ç®—</view>
        <view class="feature-desc">æ”¯æŒå¤æ‚æˆ·å‹</view>
      </view>
      
      <view class="feature-card" bindtap="goToCostAnalysis">
        <text class="feature-icon">ğŸ“Š</text>
        <view class="feature-name">æˆæœ¬åˆ†æ</view>
        <view class="feature-desc">è¯¦ç»†é¢„ç®—æŠ¥å‘Š</view>
      </view>
      
      <view class="feature-card" bindtap="goToMaterialGuide">
        <text class="feature-icon">ğŸ“‹</text>
        <view class="feature-name">é€‰ææŒ‡å—</view>
        <view class="feature-desc">ä¸“ä¸šå»ºè®®</view>
      </view>
      
      <view class="feature-card" bindtap="goToSupplierMap">
        <text class="feature-icon">ğŸ“</text>
        <view class="feature-name">é™„è¿‘å•†å®¶</view>
        <view class="feature-desc">æ‰¾åˆ°ä¼˜è´¨ä¾›åº”å•†</view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="secondary-button" bindtap="saveResult">
      <text class="ios-icon">ğŸ’¾</text>
      <text>ä¿å­˜ç»“æœ</text>
    </button>
    
    <button class="primary-button" bindtap="shareResult">
      <text class="ios-icon">ğŸ“¤</text>
      <text>åˆ†äº«ç»“æœ</text>
    </button>
  </view>

  <!-- å…è´£å£°æ˜ -->
  <view class="disclaimer">
    <view class="disclaimer-title">
      <text class="ios-icon">âš ï¸</text>
      <text>å…è´£å£°æ˜</text>
    </view>
    <view class="disclaimer-text">
      è®¡ç®—ç»“æœä»…ä¾›å‚è€ƒï¼Œå®é™…ç”¨é‡å¯èƒ½å› æ–½å·¥å·¥è‰ºã€ææ–™æ‰¹å·ç­‰å› ç´ ç•¥æœ‰å·®å¼‚ï¼Œè¯·ä»¥å®é™…æƒ…å†µä¸ºå‡†ã€‚
    </view>
  </view>

  <!-- é‡æ–°è®¡ç®—æŒ‰é’® -->
  <view class="recalc-section">
    <button class="recalc-button" bindtap="goBack">
      <text class="ios-icon">ğŸ”„</text>
      <text>é‡æ–°è®¡ç®—</text>
    </button>
  </view>

</view>